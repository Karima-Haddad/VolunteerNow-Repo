<app-header-commun></app-header-commun>

<main class="main-container">

  <div class="card-hover">

    <!-- Titre principal -->
    <div class="text-center mb-10">
      <h2 class="title-gradient">
        CrÃ©er un Ã©vÃ©nement solidaire
      </h2>
      <p class="subtitle">
        Donnez vie Ã  votre initiative et inspirez dâ€™autres bÃ©nÃ©voles ğŸ’™ğŸ§¡
      </p>
    </div>

    <!-- FORMULAIRE COMPLET -->
    <form (ngSubmit)="onSubmit()" #eventForm="ngForm" class="form-grid">

      <!-- ğŸŸ  TITRE -->
      <div class="group">
        <label class="label-icon">
          <span class="icon-orange">âœï¸</span>
          <span>Titre <span class="text-red-500">*</span></span>
        </label>
        <input type="text" name="titre" [(ngModel)]="form().titre"
               required placeholder="Ex : Nettoyage de plage"
               class="input-field">
      </div>

      <!-- ğŸŸ¦ DESCRIPTION -->
      <div class="group">
        <label class="label-icon">
          <span class="icon-orange">ğŸ“„</span>
          <span>Description <span class="text-red-500">*</span></span>
        </label>
        <textarea rows="5" name="description" [(ngModel)]="form().description"
                  required placeholder="DÃ©crivez clairement la mission, les objectifs..."
                  class="input-field resize-none"></textarea>
      </div>

      <!-- ğŸŸ£ DATE -->
      <div class="group">
        <label class="label-icon">
          <span class="icon-orange">ğŸ“…</span>
          <span>Date et heure <span class="text-red-500">*</span></span>
        </label>
        <input type="datetime-local" name="date_event" [(ngModel)]="form().date_event"
               required class="input-field">
      </div>

      <!-- ğŸŸ¢ PLACES -->
      <div class="group">
        <label class="label-icon">
          <span class="icon-orange">ğŸ‘¥</span>
          <span>Nombre de places <span class="text-red-500">*</span></span>
        </label>
        <input type="number" name="nb_places" [(ngModel)]="form().nb_places"
               required min="1" placeholder="20" class="input-field">
      </div>

      <!-- ğŸŸ¡ CATÃ‰GORIE -->
      <div class="group">
        <label class="label-icon">
          <span class="icon-orange">ğŸ·ï¸</span>
          <span>CatÃ©gorie <span class="text-red-500">*</span></span>
        </label>
        <select name="categorie" [(ngModel)]="form().categorie" required class="input-field">
          <option value="">Choisir une catÃ©gorie</option>
          <option value="environnement">ğŸŒ± Environnement & Nature</option>
          <option value="social">ğŸ¤ Aide Sociale & Humanitaire</option>
          <option value="sante">â¤ï¸ SantÃ© & Bien-Ãªtre</option>
          <option value="animaux">ğŸ¾ Animaux & Protection animale</option>
          <option value="alimentaire">ğŸ Distribution alimentaire</option>
          <option value="education">ğŸ’ Ã‰ducation & Formation</option>
        </select>
      </div>


      <!-- ğŸŸ¦ LOCALISATION + CARTE -->
      <div class="location-card">

        <div class="flex items-center space-x-2 mb-4">
          <h3 class="text-lg font-semibold text-blue-dark">
            ğŸ“ Localisation de l'Ã©vÃ©nement <span class="text-red-500">*</span>
          </h3>
        </div>

        <!-- Adresse -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-10">
          <div class="mb-5">
            <label class="input-label">Ville</label>
            <input type="text" name="ville" [(ngModel)]="form().ville"
                   required placeholder="Tunis / Paris" class="input-sm">
          </div>
          <div>
            <label class="input-label">Rue / Adresse</label>
            <input type="text" name="localisation" [(ngModel)]="form().localisation"
                   required placeholder="Avenue Habib Bourguiba..." class="input-sm">
          </div>
        </div>

        <!-- Carte -->
        <div class="mt-6">
          <label class="input-label">SÃ©lectionnez lâ€™emplacement</label>
          <p class="text-gray-600 text-sm mb-2">
            Cliquez sur la carte pour enregistrer latitude & longitude.
          </p>

          <div id="map" style="height: 350px; border-radius: 12px; overflow: hidden;"></div>
        </div>

        <!-- Latitude / Longitude -->
        <input type="hidden" name="latitude" [(ngModel)]="form().latitude">
        <input type="hidden" name="longitude" [(ngModel)]="form().longitude">

        <p class="text-xs text-gray-500 mt-2">
          ğŸ“Œ CoordonnÃ©es : {{ form().latitude }} , {{ form().longitude }}
        </p>

      </div>

      <!-- BOUTONS -->
      <div class="btn-row">
      <button type="button" class="btn-cancel"  routerLink="/events">
        Annuler
      </button>

      <button type="submit" class="btn-submit" [disabled]="!eventForm.form.valid">
        âš¡ Publier l'Ã©vÃ©nement
      </button>
    </div>


    </form>
  </div>

  <!-- Astuces -->
  <div class="tips-grid">
    <div class="tip-card tip-orange">
      <p class="text-3xl">âš¡</p>
      <p class="font-semibold text-orange">Ã‰nergie & Action</p>
      <p class="text-sm text-gray-600">Vos Ã©vÃ©nements comptent</p>
    </div>
    <div class="tip-card tip-blue">
      <p class="text-3xl">ğŸ”µ</p>
      <p class="font-semibold text-blue">FiabilitÃ© & Confiance</p>
      <p class="text-sm text-gray-600">DonnÃ©es sÃ©curisÃ©es</p>
    </div>
  </div>

</main>

<app-chatbot-button></app-chatbot-button>
<app-footer></app-footer>
