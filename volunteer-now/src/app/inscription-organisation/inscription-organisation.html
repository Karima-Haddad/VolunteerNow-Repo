<app-header-inscrit></app-header-inscrit>

<main class="main">
  <div class="container">

    <div class="hero">
      <h1>Inscrivez votre <span class="highlight">organisation</span></h1>
      <p>Publiez vos Ã©vÃ©nements, recrutez des bÃ©nÃ©voles et amplifiez votre impact local.</p>
    </div>

    <form #form="ngForm" (ngSubmit)="onSubmit(form)" class="form">

      <!-- INFO ORG -->
      <section class="section">
        <h2>ğŸ¢ Informations de l'organisation</h2>

        <div class="field">
          <label>Nom de lâ€™organisation <span class="required">*</span></label>
          <input type="text" name="name" ngModel required placeholder="ex: Secours Populaire Marseille">
        </div>

        <div class="field">
          <label>Email <span class="required">*</span></label>
          <input type="email" name="email" ngModel required placeholder="NomOrganisation@gmail.com">
        </div>

        <div class="field">
          <label>Mot de passe <span class="required">*</span></label>
          <input type="password" name="password" ngModel required minlength="8" placeholder="8 caractÃ¨res min">
        </div>

        <div class="field">
          <label>Bio <span class="required">*</span></label>
          <input type="text" name="bio" ngModel required placeholder="Exprimez vous">
        </div>

        <div class="field">
          <label>Description courte <span class="required">*</span></label>
          <textarea name="description" ngModel required rows="4" placeholder="PrÃ©sentez votre mission..." class="textarea"></textarea>
        </div>

        <div class="field">
          <label>Email de contact <span class="required">*</span></label>
          <input type="email" name="email_contact" ngModel required placeholder="contact@votreorg.org">
        </div>

        <!-- Domaine -->
        <div class="field">
          <label>Domaine principal dâ€™activitÃ© <span class="required">*</span></label>
          <div class="radio-grid">
            <label class="radio-label">
              <input type="radio" name="domaine" value="ecologie" ngModel required>
              <span>ğŸŒ± Environnement & Nature</span>
            </label>
            <label class="radio-label">
              <input type="radio" name="domaine" value="solidarite" ngModel>
              <span>â¤ï¸ SantÃ© & Bien-Ãªtre</span>
            </label>
            <label class="radio-label">
              <input type="radio" name="domaine" value="education" ngModel>
              <span>ğŸ’ Ã‰ducation & Formation</span>
            </label>
            <label class="radio-label">
              <input type="radio" name="domaine" value="sante" ngModel>
              <span>ğŸ¾ Animaux & Protection animale</span>
            </label>
            <label class="radio-label">
              <input type="radio" name="domaine" value="culture" ngModel>
              <span>ğŸ Distribution alimentaire</span>
            </label>
            <label class="radio-label">
              <input type="radio" name="domaine" value="autre" ngModel>
              <span>Autre</span>
            </label>
          </div>
        </div>

        <!-- TÃ©lÃ©phone -->
        <div class="field">
          <label>TÃ©lÃ©phone <span class="required">*</span></label>
          <input type="text" name="phone" ngModel required placeholder="ex: 06 12 34 56 78">
        </div>

        <!-- Photo -->
        <div class="field">
          <label>Photo de profil <span class="optional">(optionnel)</span></label>
          <div class="photo-upload-wrapper">
            <div class="photo-preview" [style.background-image]="'url(' + (photoPreview || '/assets/img/default-avatar.jpg') + ')'">
              <div class="photo-overlay"><span class="icon">ğŸ“·</span></div>
            </div>

            <input type="file" #fileInput (change)="onFileSelected($event)" accept="image/*" id="photoUpload" class="hidden-input">
            <label for="photoUpload" class="upload-btn"><span class="icon">â•</span> Choisir une photo</label>

            <p class="hint" *ngIf="!photoPreview">JPG, PNG ou GIF â€¢ max 5 Mo</p>
            <p class="hint success-hint" *ngIf="photoPreview"><span class="icon">âœ“</span> Photo prÃªte !</p>
          </div>

          <small *ngIf="selectedFileName" class="file-name">{{ selectedFileName }}</small>
        </div>

      </section>

      <!-- Contact & Localisation -->
      <section class="section">
        <h2>ğŸ“ Contact & Localisation</h2>
        <div class="grid">
          <div class="field">
            <label>Email de contact <span class="required">*</span></label>
            <input type="email" name="email_contact" ngModel required placeholder="contact@votreorg.org">
          </div>
          <div class="field">
            <label>Ville principale dâ€™activitÃ© <span class="required">*</span></label>
            <input type="text" name="ville" ngModel required placeholder="Marseille">
          </div>
        </div>
      </section>

      <div class="actions">
        <span routerLink="/" class="link">â† DÃ©jÃ  inscrit ? Se connecter</span>
        <button type="submit" class="btn-submit" [disabled]="form.invalid || loading">CrÃ©er mon compte organisation ğŸš€</button>
      </div>

      <p class="legal">
        En vous inscrivant, vous acceptez nos
        <span class="underline">Conditions dâ€™utilisation</span>
        et notre
        <span class="underline">Politique de confidentialitÃ©</span>.
      </p>

      <input type="hidden" name="role" value="organisation">
    </form>

    <div *ngIf="submitted" class="success">
      <p>Inscription rÃ©ussie ! Votre organisation est prÃªte.</p>
    </div>

  </div>
</main>

<app-chatbot-button></app-chatbot-button>
<app-footer></app-footer>
